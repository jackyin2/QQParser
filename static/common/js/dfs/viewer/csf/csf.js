!function(e){var t={key:"csf: ",log:function(e){console&&console.log(t.key+e)}},a=function(t,a){var n=this,r=(new Date).getTime();if(e(".player_teachers",t).attr("id","player_teachers_"+r),e(".player_screen",t).attr("id","player_screen_"+r),n.teacher=jwplayer(e(".player_teachers").attr("id")).setup({flashplayer:a.flashplayer,file:a.teachersUrl,html5:"",autostart:!1,provider:"http",startparam:"start",width:"100%",height:"100%",skin:a.skin,base:a.baseUrl+"viewer/jwplayer/",events:{onReady:function(){e(".jwclick",t).remove(),n.teacher.ready=!0},onPause:function(){n.screen.pause()},onPlay:function(){n.screen.play()},onComplete:function(){n.screen.stop()},onSeek:function(e){n.screen.seek(e.offset)}}}),n.screen=jwplayer(e(".player_screen").attr("id")).setup({flashplayer:a.flashplayer,file:a.screenUrl,autostart:!1,provider:"http",startparam:"start",width:"100%",height:"100%",controls:!1,skin:a.skin,base:a.baseUrl+"viewer/jwplayer/",events:{onReady:function(){e(".jwclick",t).remove(),n.screen.ready=!0}}}),setInterval(function(){var a=n.teacher.getPosition();Math.abs(a-n.screen.getPosition())>3&&n.screen.seek(parseInt(a)),e(".video-text .video-catalog",t).each(function(t,n){var r=e("li",n).eq(0);e("li",n).each(function(t){var n=e(this);return n.data("time")>a?!1:void(r=n)}),r&&(r.siblings(".current").removeClass("current"),r.addClass("current"))})},2e3),a.autoStart)var c=setInterval(function(){n.teacher.ready&&n.screen.ready&&(n.teacher.play(),window.clearInterval(c))},500);e(".video-box".w).data("player",n),e(".video-text .video-catalog li",t).click(function(){var t=e(this);t.siblings(".current").removeClass("current"),t.addClass("current"),n.teacher.seek(parseInt(t.data("time")))}),e(".video-list",t).show()},n=["playerHtml","playerCss","teachersUrl","screenUrl","directoryData","flashplayer","skin","baseUrl","callback"],r=["autoStart"];e.fn.csf=function(c){var l=this;c=c||{};var i={};e.each(n,function(e,a){var r=n[e];return c.debug||c[r]?void(i[r]=c[r]):(t.log("["+r+"] can not is null!"),!1)}),e.each(r,function(e,t){var a=r[e];c[a]&&(i[a]=c[a])}),e.ajax({type:"GET",url:i.playerHtml,async:!1,dataType:"text",success:function(t){t=baidu.template(t,i),l.html(t);var n=new a(l,i);i.callback&&e.isFunction(i.callback)&&i.callback.apply(null,[n])}})}}(jQuery),function(e){var t="undefined"==typeof module?e.baidu=e.baidu||{}:module.exports;t.template=function(t,n){var r=function(){if(!e.document)return a._compile(t);var n=document.getElementById(t);if(n){if(a.cache[t])return a.cache[t];var r=/^(textarea|input)$/i.test(n.nodeName)?n.value:n.innerHTML;return a._compile(r)}return a._compile(t)}(),c=a._isObject(n)?r(n):r;return r=null,c};var a=t.template;a.versions=a.versions||[],a.versions.push("1.0.6"),a.cache={},a.LEFT_DELIMITER=a.LEFT_DELIMITER||"<%",a.RIGHT_DELIMITER=a.RIGHT_DELIMITER||"%>",a.ESCAPE=!0,a._encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},a._encodeReg=function(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},a._encodeEventHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\n/g,"\n").replace(/\\r/g,"\r")},a._compile=function(e){var t="var _template_fun_array=[];\nvar fn=(function(__data__){\nvar _template_varName='';\nfor(name in __data__){\n_template_varName+=('var '+name+'=__data__[\"'+name+'\"];');\n};\neval(_template_varName);\n_template_fun_array.push('"+a._analysisStr(e)+"');\n_template_varName=null;\n})(_template_object);\nfn = null;\nreturn _template_fun_array.join('');\n";return new Function("_template_object",t)},a._isObject=function(e){return"function"==typeof e||!(!e||"object"!=typeof e)},a._analysisStr=function(e){var t=a.LEFT_DELIMITER,n=a.RIGHT_DELIMITER,r=a._encodeReg(t),c=a._encodeReg(n);return e=String(e).replace(new RegExp("("+r+"[^"+c+"]*)//.*\n","g"),"$1").replace(new RegExp("<!--.*?-->","g"),"").replace(new RegExp(r+"\\*.*?\\*"+c,"g"),"").replace(new RegExp("[\\r\\t\\n]","g"),"").replace(new RegExp(r+"(?:(?!"+c+")[\\s\\S])*"+c+"|((?:(?!"+r+")[\\s\\S])+)","g"),function(e,t){var a="";if(t)for(a=t.replace(/\\/g,"&#92;").replace(/'/g,"&#39;");/<[^<]*?&#39;[^<]*?>/g.test(a);)a=a.replace(/(<[^<]*?)&#39;([^<]*?>)/g,"$1\r$2");else a=e;return a}),e=e.replace(new RegExp("("+r+"[\\s]*?var[\\s]*?.*?[\\s]*?[^;])[\\s]*?"+c,"g"),"$1;"+n).replace(new RegExp("("+r+":?[hvu]?[\\s]*?=[\\s]*?[^;|"+c+"]*?);[\\s]*?"+c,"g"),"$1"+n).split(t).join("	"),e=a.ESCAPE?e.replace(new RegExp("\\t=(.*?)"+c,"g"),"',typeof($1) === 'undefined'?'':baidu.template._encodeHTML($1),'"):e.replace(new RegExp("\\t=(.*?)"+c,"g"),"',typeof($1) === 'undefined'?'':$1,'"),e=e.replace(new RegExp("\\t:h=(.*?)"+c,"g"),"',typeof($1) === 'undefined'?'':baidu.template._encodeHTML($1),'").replace(new RegExp("\\t(?::=|-)(.*?)"+c,"g"),"',typeof($1)==='undefined'?'':$1,'").replace(new RegExp("\\t:u=(.*?)"+c,"g"),"',typeof($1)==='undefined'?'':encodeURIComponent($1),'").replace(new RegExp("\\t:v=(.*?)"+c,"g"),"',typeof($1)==='undefined'?'':baidu.template._encodeEventHTML($1),'").split("	").join("');").split(n).join("_template_fun_array.push('").split("\r").join("\\'")}}(window);